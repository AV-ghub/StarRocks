# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Apache Flink CDC
> –ò—Ç–∞–∫, –ø–æ–¥—ã—Ç–æ–∂–∏–≤ –≤—ã–∫–ª–∞–¥–∫–∏, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å Flink CDC YAML, –Ω–∞–º –Ω–µ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ:
> * —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∞—Å—Ç–µ—Ä —Ñ–ª–∏–Ω–∫ —Å–æ –≤—Å–µ–º–∏ –Ω—É–∂–Ω—ã–º–∏ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞–º–∏ –≤ /lib
> * –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º [/smt](https://docs.starrocks.io/docs/integrations/loading_tools/SMT/#synchronize-postgresql-to-starrocks) —Å –µ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è–º–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤, –∞ —Å—Ç–∞–≤–∏–º –∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—É—é –Ω–∞–¥—Å—Ç—Ä–æ–π–∫—É Flink CDC YAML
> * –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º –µ–µ
> * –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å—Ç–∞—Ä—Ç—É–µ–º —Å–∫—Ä–∏–ø—Ç —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º yaml —Ñ–∞–π–ª–æ–º –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ
> * –æ–Ω –≤—ã—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤–µ—Å—å –ø–∞–π–ø–ª–∞–π–Ω:
>   - –∏–¥–µ—Ç –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ ->
>   - —Å–æ–∑–¥–∞–µ—Ç —Ç–∞–º —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ª–æ—Ç (–ø—Ä–∏ —ç—Ç–æ–º wal_level = logical —É–∂–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∞–º –≤–∫–ª—é—á–µ–Ω) ->
>   - –¥–µ–ª–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é (–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ –ø—Ä–æ–ø–∏—Å–∫–µ –≤ yaml?) ->
>   - —Å–æ–∑–¥–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É -> –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –¥–µ–±–µ–∑–∏—É–º (–≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–∂–µ –ø–æ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–ø–∏—Å–∫–µ –≤ yaml?) ->
>   - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å (—Å—Ç–∞—Ä—Ä–æ–∫—Å) ->
>   - —Å–æ–∑–¥–∞–µ—Ç –¥–∂–æ–±—É –∏ –∑–∞–¥–∞–Ω–∏–µ ->
>   - –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏—Ö ->
>   - –∫–∞–∫–∏–º-—Ç–æ –æ–±—Ä–∞–∑–æ–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è ->
>   - —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–µ–¥–µ—Ç –ª–æ–≥–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã
–ü–µ—Ä–µ–π–¥–µ–º –∫–æ –≤—Å–µ–º —ç—Ç–∏–º –¥–µ—Ç–∞–ª—è–º –∏ –ø–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

–ü–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –¥–µ—Ç–∞–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Flink CDC YAML –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ PostgreSQL ‚Üí StarRocks, —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.

### üõ†Ô∏è –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Flink
–≠—Ç–æ—Ç —à–∞–≥ –≤—ã –æ–ø–∏—Å–∞–ª–∏ –≤–µ—Ä–Ω–æ.

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Apache Flink** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è 1.17+).
2.  **–°–∫–∞—á–∞–π—Ç–µ Flink CDC 3.5+** —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://downloads.apache.org/flink/flink-cdc-3.5.0/) –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ.
3.  **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ JAR-—Ñ–∞–π–ª—ã** –∏–∑ `flink-cdc-3.5.0/lib/` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `lib/` –≤–∞—à–µ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ Flink. **–í–∞–∂–Ω–æ**: –î–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL –∏ StarRocks –≤–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:
    *   `flink-sql-connector-postgres-cdc-*.jar` (–∏—Å—Ç–æ—á–Ω–∏–∫)
    *   `flink-connector-starrocks-*.jar` (–ø—Ä–∏–µ–º–Ω–∏–∫)
    *   `flink-cdc-pipeline-*.jar` (—è–¥—Ä–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∏)

### üìÑ –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ YAML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–í–æ—Ç –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `postgres-to-starrocks.yaml`. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ–±—ä—è—Å–Ω—è—é—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–µ–∫—Ü–∏–∏:

```yaml
# postgres-to-starrocks.yaml

source:
  # –¢–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞ - PostgreSQL
  type: postgres
  # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ)
  hostname: localhost
  port: 5432
  username: flink_user
  password: your_secure_password
  database-name: my_database
  schema-name: public
  # –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π
  slot.name: flink_cdc_slot # –ò–º—è —Å–ª–æ—Ç–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏. –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å–≤–æ—ë.
  # –í—ã–±–æ—Ä —Ç–∞–±–ª–∏—Ü: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –ø–æ—á—Ç–∏ –≤—Å–µ (.*), –Ω–æ –∏—Å–∫–ª—é—á–∞–µ–º —Å–ª—É–∂–µ–±–Ω—ã–µ
  table-list: ["public.*"]
  debezium:
    # –ò—Å–∫–ª—é—á–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏–∑ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
    table.exclude.list: "public.audit_log, public.temp_.*"
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Heartbeat –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞ —Å–ª–æ—Ç–æ–º
    heartbeat.interval.ms: 5000
    # –†–µ–∂–∏–º —Å—Ç–∞—Ä—Ç–∞: initial = —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª–Ω—ã–π —Å–Ω–∏–º–æ–∫, –ø–æ—Ç–æ–º CDC
    snapshot.mode: initial

# –¶–µ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ - StarRocks
sink:
  type: starrocks
  # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ StarRocks
  jdbc-url: jdbc:mysql://starrocks-fe:9030
  load-url: starrocks-fe:8030
  database-name: target_db
  username: starrocks_user
  password: starrocks_password
  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ StarRocks
  sink.buffer-flush.interval-ms: 10000
  sink.buffer-flush.max-rows: 50000
  sink.properties.format: json
  sink.properties.strip_outer_array: true

# –ö–æ–Ω–≤–µ–π–µ—Ä (–ø–∞–π–ø–ª–∞–π–Ω) - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—Ç
pipeline:
  name: Postgres to StarRocks Sync
  # –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –≤–æ Flink
  parallelism: 2
  # –†–µ–∂–∏–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è: streaming (–ø–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ CDC)
  execution-mode: streaming
  # –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ö–µ–º—ã (–∫–ª—é—á–µ–≤–∞—è —Ñ–∏—á–∞!)
  schema-change:
    sync-database: true
    sync-table: true
    # –ü–æ–ª–∏—Ç–∏–∫–∞ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ DDL (–Ω–∞–ø—Ä–∏–º–µ—Ä, ADD COLUMN):
    # - IGNORE - –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
    # - WARN - –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å –≤ –ª–æ–≥–∞—Ö
    # - APPLY (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–∏–µ–º–Ω–∏–∫–µ
    sync-ddl: APPLY
  # –ü—Ä–æ—Å—Ç–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è "–Ω–∞ –ª–µ—Ç—É" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  transforms:
    - type: column-projection
      # –ü—Ä–æ–µ—Ü–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã
      includes: "id,name,email,created_at"
    - type: add-column
      # –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É–∂–µ–±–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü —Å –≤—Ä–µ–º–µ–Ω–µ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏
      columns: "process_time TIMESTAMP"
      value: "CURRENT_TIMESTAMP"
```

### üöÄ –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
1.  **–ó–∞–ø—É—Å–∫**: –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Flink CDC –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É.
    ```bash
    ./bin/flink-cdc.sh pipeline /–ø—É—Ç—å/–∫/postgres-to-starrocks.yaml
    ```
2.  **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ** (–≤–∞—à–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –≤–µ—Ä–Ω–∞):
    *   –£—Ç–∏–ª–∏—Ç–∞ `flink-cdc.sh` –ø–∞—Ä—Å–∏—Ç YAML, —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ –∑–∞–¥–∞–Ω–∏—è Flink (DAG) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –∫–ª–∞—Å—Ç–µ—Ä —á–µ—Ä–µ–∑ REST API.
    *   –ò—Å—Ç–æ—á–Ω–∏–∫ (PostgreSQL CDC) –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ë–î, **–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** (`wal_level=logical`), **—Å–æ–∑–¥–∞–µ—Ç —Å–ª–æ—Ç —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏** —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π) –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç —á—Ç–µ–Ω–∏–µ.
    *   –°—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å: **–Ω–∞—á–∞–ª—å–Ω—ã–π —Å–Ω–∏–º–æ–∫ (snapshot)** ‚Üí **–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ (CDC)**.
    *   –ü—Ä–∏–µ–º–Ω–∏–∫ (StarRocks Connector) –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏—Ö –≤ —Ü–µ–ª–µ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º Stream Load.
    *   **–°–æ–∑–¥–∞–µ—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–æ–ª–≥–æ–∂–∏–≤—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ (Flink Job)**, –∫–æ—Ç–æ—Ä–æ–µ —Ç–µ–ø–µ—Ä—å —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Ç–µ—Ä–æ–º Flink.

### üìä –®–∞–≥ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç **—á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã Flink**, –∞ –Ω–µ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å `flink-cdc.sh`.

| –ê—Å–ø–µ–∫—Ç | –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≥–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å |
| :--- | :--- |
| **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞** | –ß–µ—Ä–µ–∑ **–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Flink** (`http://<jobmanager>:8081`). –¢–∞–º –≤–∏–¥–Ω—ã –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è, –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø–∞–π–ø–ª–∞–π–Ω, –º–µ—Ç—Ä–∏–∫–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π, –∑–∞–¥–µ—Ä–∂–∫–∞). |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤—ã—Ö–æ–¥—ã TaskManager'–æ–≤**. –ò—Ö –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∏–ª–∏ –≤ —Ñ–∞–π–ª–∞—Ö `log/flink-*-taskexecutor-*.out` –Ω–∞ –Ω–æ–¥–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞. |
| **–†–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è DDL** | –ï—Å–ª–∏ –≤ PostgreSQL –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `ALTER TABLE`, Debezium —É–ª–∞–≤–ª–∏–≤–∞–µ—Ç —ç—Ç–æ –∫–∞–∫ —Å–æ–±—ã—Ç–∏–µ. –ü–æ–ª–∏—Ç–∏–∫–∞ `sync-ddl: APPLY` –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∞–π–ø–ª–∞–π–Ω **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å** —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–ª–±–µ—Ü) –≤ StarRocks. |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** | Flink **–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —á–µ–∫–ø–æ–∏–Ω—Ç—ã** (—Å–Ω–∏–º–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è). –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ä–æ–≤–Ω–æ-–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É (exactly-once) –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ –ø—Ä–∏ —Å–±–æ–µ. |
| **–û—Å—Ç–∞–Ω–æ–≤–∫–∞/–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** | –ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é, –Ω—É–∂–Ω–æ **–æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ (Flink Job)** —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ REST API. **–ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å —Ç–µ–º–∏ –∂–µ `slot.name` –æ–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ LSN –≤ —Å–ª–æ—Ç–µ**. |

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
1.  **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ—Ç–æ–º**: –ü–∞—Ä–∞–º–µ—Ç—Ä `slot.name` –≤ YAML –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –∏–º—è, –Ω–æ **—Ç–æ–Ω–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–º–µ—Ä —Å–ª–æ—Ç–∞, –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –¥—Ä–æ–ø –ø—Ä–∏ –æ—à–∏–±–∫–µ) —á–µ—Ä–µ–∑ YAML –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é –≤ PostgreSQL (`SELECT pg_drop_replication_slot('flink_cdc_slot');`).
2.  **–í—ã–±–æ—Ä —Ç–∞–±–ª–∏—Ü**: –í–æ–∑–º–æ–∂–µ–Ω —á–µ—Ä–µ–∑ `table-list` —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –∏ `debezium.table.exclude.list`. –û–¥–Ω–∞–∫–æ **–≤—ã–±—Ä–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å—Ö–µ–º –∏–ª–∏ —Å —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–æ–π** ‚Äî —Å–ª–æ–∂–Ω–æ.                **<-- –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**
3.  **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (`column-projection`, `add-column` –∏ –¥—Ä.). **–°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞** (–æ–∫–æ–Ω–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏, JOIN) –≤ YAML –Ω–µ –≤—ã—Ä–∞–∂–∞–µ—Ç—Å—è.
4.  **–ü—É–±–ª–∏–∫–∞—Ü–∏—è (Publication)**: –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **–Ω–µ–ª—å–∑—è —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏–º—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏**. –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Å–æ–∑–¥–∞–µ—Ç –µ—ë —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.                      **<-- –ø—Ä–æ–≤–µ—Ä–∏—Ç—å**

### üí° –ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥
**–î–∞, Flink CDC YAML –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ü–µ–ª–∏ ¬´—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—á—Ç–∏ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —É—Å–∏–ª–∏—è–º–∏¬ª.** –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç 90% —Ä—É—Ç–∏–Ω—ã. –û–¥–Ω–∞–∫–æ, –∫–∞–∫ –º—ã –≤–∏–¥–∏–º –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö, **–≤—ã –∂–µ—Ä—Ç–≤—É–µ—Ç–µ —Ç–æ–Ω–∫–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –Ω–∞–¥ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π PostgreSQL** (–ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Å–ª–æ—Ç–∞) –∏ **–≥–∏–±–∫–æ—Å—Ç—å—é –≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è—Ö**.

