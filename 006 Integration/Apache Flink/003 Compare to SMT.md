## –ö–∞–∫ –ø—Ä–æ—Ü–µ—Å—Å—ã, –æ–±—Å—É–∂–¥–∞–µ–º—ã–µ –≤—ã—à–µ, —Å–æ–æ—Ç–Ω–æ—Å—è—Ç—Å—è —Å SMT

| –≠—Ç–∞–ø / –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ß—Ç–æ –º—ã —Ä–∞–∑–±–∏—Ä–∞–ª–∏ —Ä–∞–Ω–µ–µ | –ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ SMT (StarRocks Migration Tool) | –í–∞–∂–Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è |
| :--- | :--- | :--- | :--- |
| **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** | PostgreSQL —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π | –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PostgreSQL –∏ —á–∏—Ç–∞–µ—Ç —Å—Ö–µ–º—É –∏ –¥–∞–Ω–Ω—ã–µ. | **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å**. –í—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ —Ö–æ—Å—Ç, –ø–æ—Ä—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å. |
| **–£—Ä–æ–≤–µ–Ω—å –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞ CDC** | Debezium (–∏–ª–∏ Flink CDC) | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Flink CDC connector** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `flink-sql-connector-postgres-cdc`). | **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä**. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –µ–≥–æ —Ä–∞–º–∫–∞—Ö –≤–æ–∑–º–æ–∂–Ω—ã. |
| **–£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ–¥–∞—á–∏** | Apache Kafka | **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**. Flink Job –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º–æ–π —Å—Ç—Ä–∏–º–∏–Ω–≥. | **–ü—Ä–æ—â–µ, –Ω–æ –º–µ–Ω–µ–µ –≥–∏–±–∫–æ**. –ù–µ—Ç –±—É—Ñ–µ—Ä–∞, —Ç–∞–∫–æ–≥–æ –∫–∞–∫ Kafka. |
| **–£—Ä–æ–≤–µ–Ω—å –æ–±—Ä–∞–±–æ—Ç–∫–∏** | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π Flink Job | **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π** SQL-—Å–∫—Ä–∏–ø—Ç –¥–ª—è Flink SQL Client. | **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å**. SMT –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç DDL (CREATE TABLE) –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –ø—Ä–∏–µ–º–Ω–∏–∫–∞. –õ–æ–≥–∏–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ SQL –±–∞–∑–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è. |
| **–ü—Ä–∏–µ–º–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** | StarRocks | **StarRocks** —á–µ—Ä–µ–∑ `flink-connector-starrocks`. | **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å**. –í—ã —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ JDBC URL, load URL, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–ª—É—à–∞ –∏ —Ç.–¥. |

### üéØ SMT: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å

–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ SMT ‚Äî **–∏–∑–±–∞–≤–∏—Ç—å –≤–∞—Å –æ—Ç —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è DDL-–∫–æ–º–∞–Ω–¥** (CREATE TABLE) –∫–∞–∫ –≤ StarRocks, —Ç–∞–∫ –∏ –≤ Flink.

**–ß—Ç–æ SMT –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1.  **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ö–µ–º—É** –≤–∞—à–µ–π –∏—Å—Ö–æ–¥–Ω–æ–π –±–∞–∑—ã (PostgreSQL).
2.  **–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ SQL-—Å–∫—Ä–∏–ø—Ç–æ–≤**:
    *   `starrocks-create.1.sql` ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ StarRocks.
    *   `flink-create.1.sql` ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (Flink CDC) –∏ —Ç–∞–±–ª–∏—Ü-–ø—Ä–∏–µ–º–Ω–∏–∫–æ–≤ (StarRocks Sink) –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ Flink SQL Job.
3.  –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —ç—Ç–æ –µ–¥–∏–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º: `bin/sql-client.sh embedded < flink-create.all.sql`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ **–∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—â–∏–π job**.

**–ì–¥–µ —É –≤–∞—Å –æ—Å—Ç–∞–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—å (–∫–∞–∫ –≤—ã —Ö–æ—Ç–µ–ª–∏):**
*   **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü**: –í—ã –∑–∞–¥–∞–µ—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `database` –∏ `table` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `[table-rule.1]`, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.
*   **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–µ–º–Ω–∏–∫–∞**: –í—ã –º–æ–∂–µ—Ç–µ —Ç–æ–Ω–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ `flink-connector-starrocks` (–∏–Ω—Ç–µ—Ä–≤–∞–ª—ã —Ñ–ª—É—à–∞, —Ä–µ—Ç—Ä–∞–∏) –≤ —Ç–æ–º –∂–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ.
*   **–û–¥–∏–Ω —Å–ª–æ—Ç –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é**: –í PostgreSQL –≤—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–µ—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏—é (`CREATE PUBLICATION`) —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–∂–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü. Flink CDC Connector –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ–¥–∏–Ω —Å–ª–æ—Ç –¥–ª—è –∏—Ö –≤—Å–µ—Ö.

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

1.  **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ "Flink-to-StarRocks direct"**: –í —Å—Ö–µ–º–µ SMT **–Ω–µ—Ç Apache Kafka** –∫–∞–∫ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —Å–ª–æ—è. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ, –Ω–æ –¥–µ–ª–∞–µ—Ç –º–µ–Ω–µ–µ –≥–∏–±–∫–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö. Flink Job –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏ –±—ã—Ç—å —É—Å—Ç–æ–π—á–∏–≤—ã–º.

2.  **–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞**: –°–æ–≥–ª–∞—Å–Ω–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—è–º –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ (—è–Ω–≤–∞—Ä—å 2023 –≥.), StarRocks –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∞ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç SMT –≤ –ø–æ–ª—å–∑—É –Ω–∞—Ç–∏–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å **Apache Flink 3.0 CDC**. –≠—Ç–æ –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ –µ—â–µ –∞–∫—Ç—É–∞–ª—å–Ω–∞, –Ω–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞.

3.  **–î—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–µ–Ω **–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–ø–∞–Ω–µ–ª—å, —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ **BladePipe** (—Ä–∞–Ω–µ–µ CloudCanal) –∏–ª–∏ **NineData**. –û–Ω–∏ —Å–∫—Ä—ã–≤–∞—é—Ç –µ—â–µ –±–æ–ª—å—à–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π, –Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —É–¥–æ–±–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ UI.

### üí° –ò—Ç–æ–≥ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

SMT ‚Äî —ç—Ç–æ **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞**, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç—É —Å—Ö–µ–º—É, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–±—Å—É–∂–¥–∞–ª–∏. –û–Ω –¥–∞–µ—Ç –≤–∞–º –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞ —É—Ä–æ–≤–Ω–µ:
*   **–ò—Å—Ç–æ—á–Ω–∏–∫–∞** (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü –≤ PostgreSQL).
*   **–ü—Ä–∏–µ–º–Ω–∏–∫–∞** (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞ StarRocks).
*   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º** (–æ–¥–∏–Ω —Å–ª–æ—Ç, –µ–¥–∏–Ω—ã–π job).

**–ß—Ç–æ –≤–∞–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1.  –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π Flink, Flink CDC Connector –∏ StarRocks Connector.
2.  –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ SMT –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–¥–∞–Ω–æ –Ω–∞—Ç–∏–≤–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Flink CDC.

